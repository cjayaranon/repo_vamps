{% extends "base2.html" %}
<!-- {% load crispy_forms_tags %} -->
{% load staticfiles bootstrap %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/new_client_overlay.css' %}">
    <link rel="icon" type="image/png" href="{% static 'site_images/logo_bw.jpg' %}" sizes="18x16">
{% endblock%}

{% block content %}
{% if user.is_authenticated %}
<title>VAMPS|Add New Client</title>
<div id="breads">
    <ol class="breadcrumb">
        <li>
            <a href="{% url 'home' %}">Main Menu</a>
        </li>
        <li>Client Services</li>
        <li class="active">Add New Client</li>
    </ol>
</div>

    <!-- Form -->
    <div class="form" >
    <!-- Notifications -->
        {% if error %}
        <p class="alert alert-danger">
        <i class="fa fa-exclamation-triangle fa-lg fa-fw"></i>{{ error }}</p>
        {% else %}
        <p style="color:green">{{ success }} </p>
        {% endif %}

        <!-- {% if messages %}
        <p class="messages alert alert-success">
            <i class="fa fa-check-circle fa-lg fa-fw"></i>
            {% for message in messages %}
                {% if messages.success %}
                    {{ messages.success }}
                {% endif %}
                {{message}}
            {% endfor %}
        </p>
        {% endif %} -->

        <!-- Form -->
        <form method="POST" action="" onkeypress="return alpha(event)" class="login-form" enctype="multipart/form-data">
         {% csrf_token %}
         <!-- {{ form|bootstrap }} -->
            <table class="table table-responsive table-condensed table-hover">
                <div class="input-group col-md-12">
                    <thead>
                        <h3>Add New Client Form</h3>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Name</td>
                            <td>
                                <p>{{form.firstname}}</p>
                            </td>
                            <td>
                                <p>{{form.middlename}}</p>
                            </td>
                            <td>
                                <p>{{form.lastname}}</p>
                            </td>
                            <td></td>
                        </tr>
                        <tr>
                            <td>Contact Info</td>
                            <td>
                                <label>{{form.phone_number.label}}</label>
                                <p>{{form.phone_number}}</p>
                            </td>
                            <td>
                                <label>{{form.address.label}}</label>
                                <p>{{form.address}}</p>
                            </td>
                            <td hidden>
                                <label>{{form.age.label}}</label>
                                {{form.age}}
                            </td>
                        </tr>
                        <tr>
                            <!-- <td>
                                <label>{{form.occupation.label}}</label>
                                <p>{{form.occupation}}</p>
                            </td> -->
                            <td>Personal Info</td>
                            <td>
                                <label>{{form.civil_status.label}}</label>
                                <p>{{form.civil_status}}</p>
                            </td>
                            <td>
                                <label>{{form.educ_attain.label}}</label>
                                <p>{{form.educ_attain}}</p>
                            </td>
                            <td>
                                <label>{{form.birthdate.label}}</label>
                                <p>{{form.birthdate}}</p>
                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td>
                                <label>{{form.occupation.label}}</label>
                                <p>{{form.occupation}}</p>
                            </td>
                            <td>
                                <label>{{form.client_id_type.label}}</label>
                                <p>{{form.client_id_type}}</p>
                            </td>
                            <td>
                                <label>{{form.client_id_number.label}}</label>
                                <p>{{form.client_id_number}}</p>
                            </td>
                        </tr>
                        <tr>
                            <td>Membership Info</td>
                            <td>
                                <label>{{form.beneficiary.label}}</label>
                                <p>{{form.beneficiary}}</p>
                            </td>
                            <td>
                                <label>{{form.membership_type.label}}</label>
                                <p>{{form.membership_type}}</p>
                            </td>
                            
                        </tr>
                    </tbody>
                </div>
            </table>
            <button name="preview" type="submit" value="preview" class="btn btn-info btn-default">
                <i class="fa fa-check-square fa-lg fa-fw"></i>
                Preview
            </button>
        </form>
      </div>

{% else %}
    <h3>RESTRICTED ACCESS. <strong>YOU MUST LOGIN FIRST!</strong></h3>
    <a href="{% url 'home' %}" class="btn btn-primary">
      <i class="fa fa-sign-in fa-lg">
        Login
      </i>
    </a>
  {% endif %}

<script src="{% static 'js/jquery.js' %}"></script>

    <!-- Bootstrap Core JavaScript -->
<script src="{% static 'js/bootstrap.min.js' %}"></script>

<script>
var text = document.getElementById('id_client_odf');
text.onkeypress = text.onpaste = checkInput;

function checkInput(e) {
    var e = e || event;
    var char = e.type == 'keypress' 
        ? String.fromCharCode(e.keyCode || e.which) 
        : (e.clipboardData || window.clipboardData).getData('Text');
    if (/[^\d.$]/gi.test(char)) {
        return false;
    }
}
</script>
<script type="text/javascript">
    text.onkeypress = text.onpaste = checkLength;

    function checkLength(){
        var fieldLength = document.getElementById('id_client_odf').value.length;
        if(fieldLength <= 6){
            return true;
        }
        else{
            var str = document.getElementById('id_client_odf').value;
            str = str.substring(0, str.length - 1);
            document.getElementById('id_client_odf').value = str;
        }
    }
</script>
<script>
var text = document.getElementById('id_client_maf');
text.onkeypress = text.onpaste = checkInput;

function checkInput(e) {
    var e = e || event;
    var char = e.type == 'keypress' 
        ? String.fromCharCode(e.keyCode || e.which) 
        : (e.clipboardData || window.clipboardData).getData('Text');
    if (/[^\d.$]/gi.test(char)) {
        return false;
    }
}
</script>
<script type="text/javascript">
    text.onkeypress = text.onpaste = checkLength;

    function checkLength(){
        var fieldLength = document.getElementById('id_client_maf').value.length;
        if(fieldLength <= 6){
            return true;
        }
        else{
            var str = document.getElementById('id_client_maf').value;
            str = str.substring(0, str.length - 1);
            document.getElementById('id_client_maf').value = str;
        }
    }
</script>
<script>
var text = document.getElementById('id_capital');
text.onkeypress = text.onpaste = checkInput;

function checkInput(e) {
    var e = e || event;
    var char = e.type == 'keypress' 
        ? String.fromCharCode(e.keyCode || e.which) 
        : (e.clipboardData || window.clipboardData).getData('Text');
    if (/[^\d.$]/gi.test(char)) {
        return false;
    }
}
</script>
<script type="text/javascript">
    text.onkeypress = text.onpaste = checkLength;

    function checkLength(){
        var fieldLength = document.getElementById('id_capital').value.length;
        if(fieldLength <= 6){
            return true;
        }
        else{
            var str = document.getElementById('id_capital').value;
            str = str.substring(0, str.length - 1);
            document.getElementById('id_capital').value = str;
        }
    }
</script>
<script>
var text = document.getElementById('id_phone_number');
text.onkeypress = text.onpaste = checkInput;

function checkInput(e) {
    var e = e || event;
    var char = e.type == 'keypress' 
        ? String.fromCharCode(e.keyCode || e.which) 
        : (e.clipboardData || window.clipboardData).getData('Text');
    if (/[^\d.$]/gi.test(char)) {
        return false;
    }
}
</script>
<script>
var text = document.getElementById('id_age');
text.onkeypress = text.onpaste = checkInput;

function checkInput(e) {
    var e = e || event;
    var char = e.type == 'keypress' 
        ? String.fromCharCode(e.keyCode || e.which) 
        : (e.clipboardData || window.clipboardData).getData('Text');
    if (/[^\d.$]/gi.test(char)) {
        return false;
    }
}
</script>


{% endblock %}